{% extends 'base.html' %}

{% block content %}

<h1 class="mt-4">Предстоящие мероприятия</h1>
<table class="table text-center">
  <thead>
    <tr>
      <th scope="col">Время проведения</th>
      <th scope="col">Наименование</th>
      <th scope="col">Статус</th>
      <th scope="col">Организатор</th>
      <th scope="col">Ответственное лицо</th>
      <th scope="col">Действие</th>
    </tr>
  </thead>
  <tbody>
  {% for event in query_set %}
    <tr class="{% if event.status == 'wait' %} table-warning {% endif %}
               {% if event.status == 'ready' %} table-success {% endif %}
               {% if event.status == 'rejection' %} table-danger {% endif %}
               {% if event.status == 'completed' %} table-secondary {% endif %}">
      <td>{{ event.date|date:"d F Y" }}</td>
      <td>{{ event.name }}</td>
      <td>
          {% if event.status == 'wait' %}<h4><span class="badge bg-warning">{{ event.get_status_display  }}</span></h4> {% endif %}
          {% if event.status == 'ready' %}<h4><span class="badge bg-success">{{ event.get_status_display  }}</span></h4> {% endif %}
          {% if event.status == 'rejection' %}<h4><span class="badge bg-danger">{{ event.get_status_display  }}</span></h4> {% endif %}
          {% if event.status == 'completed' %}<h4><span class="badge bg-secondary">{{ event.get_status_display  }}</span></h4> {% endif %}
      </td>
      <td>{{ event.organization }}</td>
      <td>{{ event.responsible }}</td>
      <!-- Button trigger modal -->
      <td>
        {% block bottom %}
        <a href="{{ event.get_absolute_url }}" type="button" class="btn btn-primary">Подробно</a>
        {% endblock bottom %}
      </td>
    </tr>
  {% endfor %}
  </tbody>
</table>

{% endblock content %}